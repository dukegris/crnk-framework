// configure liberty-gradle-plugin
buildscript {
    repositories {
        mavenCentral()
	    maven {
	    	url 'https://repo1.maven.org/maven2/'
	    }
    }
    dependencies {
        classpath 'io.openliberty.tools:liberty-gradle-plugin:3.7'
        classpath 'io.openliberty:openliberty-kernel:23.0.0.10'
    }
}

// RCS
// apply plugin: 'war'
plugins {
	id 'java'
    id 'war'
}

apply plugin: 'liberty'

dependencies {

    implementation project(':crnk-core')
    implementation project(':crnk-data:crnk-data-jpa')
    implementation project(':crnk-home')
    implementation project(':crnk-setup:crnk-setup-rs')

    implementation 'jakarta.ejb:jakarta.ejb-api:4.0.1'
    implementation 'jakarta.inject:jakarta.inject-api:2.0.1'
    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'
    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:3.1.0'
    implementation 'org.eclipse.microprofile:microprofile:6.1'

}

ext  {
    liberty.server.var.'default.http.port' = '9080'
    liberty.server.var.'default.https.port' = '9443'
    liberty.server.var.'app.context.root' = project.name
}

liberty {
    server {
        name = 'myServer'
        packageLiberty {
            packageName = "MyPackage"
            include = "runnable"
        }
    }
}